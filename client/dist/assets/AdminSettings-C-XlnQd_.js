import{r as d,j as e}from"./react-vendor-DX8DjTp6.js";import"./vendor-DFPNiMdV.js";const C=()=>{const[t,c]=d.useState({brandName:"",logoUrl:"",primaryColor:"#3b82f6",secondaryColor:"#1e40af",enableTransfers:!0,enableExcursions:!1,enableBlog:!1,enableWhatsApp:!0,contactPhone:"",contactEmail:""}),[o,g]=d.useState({updated_at:null,published_at:null,version:0}),[u,h]=d.useState(!0),[r,n]=d.useState("");d.useEffect(()=>{l()},[]);const l=async()=>{try{const a=await(await fetch("/api/admin/site-settings")).json(),p=a.draft_value||a.value||{};c(x=>({...x,...p})),g({updated_at:a.updated_at,published_at:a.published_at,version:a.version}),h(!1)}catch{n("Failed to load settings"),h(!1)}},s=i=>{const{name:a,value:p,type:x,checked:y}=i.target;c(f=>({...f,[a]:x==="checkbox"?y:p}))},b=async()=>{n("Saving...");try{if(!(await fetch("/api/admin/site-settings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw new Error("Save failed");await l(),n("Draft saved successfully!"),setTimeout(()=>n(""),3e3)}catch{n("Error saving draft")}},m=async()=>{if(window.confirm("Are you sure you want to publish these settings to the live site?")){n("Publishing...");try{if(!(await fetch("/api/admin/site-settings/publish",{method:"POST"})).ok)throw new Error("Publish failed");await l(),n("Settings published successfully!"),setTimeout(()=>n(""),3e3)}catch{n("Error publishing settings")}}};return u?e.jsx("div",{style:{padding:"20px"},children:"Loading settings..."}):e.jsxs("div",{style:{padding:"20px",maxWidth:"800px"},children:[e.jsx("h1",{style:{fontSize:"1.5rem",marginBottom:"20px",color:"#1f2937"},children:"Site Settings"}),e.jsxs("div",{style:{background:"#fff",padding:"15px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",marginBottom:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"},children:[e.jsxs("div",{style:{fontSize:"0.9rem",color:"#6b7280"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Last Saved:"})," ",o.updated_at?new Date(o.updated_at).toLocaleString():"Never"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Last Published:"})," ",o.published_at?new Date(o.published_at).toLocaleString():"Never"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Version:"})," ",o.version]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:b,style:{padding:"8px 16px",background:"#e5e7eb",color:"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"Save Draft"}),e.jsx("button",{onClick:m,style:{padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"Publish Live"})]})]}),r&&e.jsx("div",{style:{marginBottom:"20px",padding:"10px",background:r.includes("Error")||r.includes("Failed")?"#fee2e2":"#dcfce7",color:r.includes("Error")||r.includes("Failed")?"#b91c1c":"#15803d",borderRadius:"4px"},children:r}),e.jsxs("div",{style:{background:"#fff",padding:"25px",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"15px",borderBottom:"1px solid #eee",paddingBottom:"10px"},children:"Brand Identity"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Brand Name"}),e.jsx("input",{type:"text",name:"brandName",value:t.brandName,onChange:s,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Logo URL"}),e.jsx("input",{type:"text",name:"logoUrl",value:t.logoUrl,onChange:s,placeholder:"/logo.png",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Primary Color"}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("input",{type:"color",name:"primaryColor",value:t.primaryColor,onChange:s,style:{height:"38px",width:"50px",padding:"0",border:"none"}}),e.jsx("input",{type:"text",name:"primaryColor",value:t.primaryColor,onChange:s,style:{flex:1,padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px"}})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Secondary Color"}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("input",{type:"color",name:"secondaryColor",value:t.secondaryColor,onChange:s,style:{height:"38px",width:"50px",padding:"0",border:"none"}}),e.jsx("input",{type:"text",name:"secondaryColor",value:t.secondaryColor,onChange:s,style:{flex:1,padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px"}})]})]})]}),e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"15px",marginTop:"30px",borderBottom:"1px solid #eee",paddingBottom:"10px"},children:"Contact Information"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Contact Phone"}),e.jsx("input",{type:"text",name:"contactPhone",value:t.contactPhone,onChange:s,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"500"},children:"Contact Email"}),e.jsx("input",{type:"email",name:"contactEmail",value:t.contactEmail,onChange:s,style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px"}})]})]}),e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"15px",marginTop:"30px",borderBottom:"1px solid #eee",paddingBottom:"10px"},children:"Feature Toggles"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"enableTransfers",checked:t.enableTransfers,onChange:s,style:{width:"18px",height:"18px"}}),e.jsx("span",{children:"Enable Transfers"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"enableExcursions",checked:t.enableExcursions,onChange:s,style:{width:"18px",height:"18px"}}),e.jsx("span",{children:"Enable Excursions"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"enableBlog",checked:t.enableBlog,onChange:s,style:{width:"18px",height:"18px"}}),e.jsx("span",{children:"Enable Blog"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",name:"enableWhatsApp",checked:t.enableWhatsApp,onChange:s,style:{width:"18px",height:"18px"}}),e.jsx("span",{children:"Enable WhatsApp Widget"})]})]})]})]})};export{C as default};
